<html>
   <head>
      <title>Cookie Management Demo</title>
   </head>

   <body>
         <input type = "submit" value="Set Cookie" onclick="setCookie()"/>
         <br />
         <input type = "submit" value = "Get Cookie" onclick="getCookie()"/>
         <br />
         <div id='showCookies'>

         </div>
        <script>
            function setCookie() {
                fetch('/api/cookie', {
                    method: 'POST'
                });
            }
            function getCookie() {
                fetch('/api/cookie', {
                    method: 'GET',
                    credentials: 'same-origin'
                }).then(res => {
                    res.json().then(cookies => {
                        console.log(cookies)
                        var mydiv = document.getElementById("showCookies");
                        var mycontent = document.createElement("p");
                        mycontent.appendChild(document.createTextNode(`Token: ${cookies.token} and Locale: ${cookies.locale}`));
                        mydiv.appendChild(mycontent);
                    });
                    
                })
            }
        </script>
   </body>
</html>